import { useState } from "react";
import { useInterval } from "usehooks-ts";
import MorphPath from "./components/MorphPath";
import "./styles.css";

const styles = {
  container: {
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    height: "100%"
  },
  svg: {
    width: "100%",
    maxWidth: 300,
    margin: 5
  }
};

const circlePath =
  "M50 25C50 38.8071 38.8071 50 25 50C11.1929 50 0 38.8071 0 25C0 11.1929 11.1929 0 25 0C38.8071 0 50 11.1929 50 25Z";
const moonPath =
  "M18.5 25C18.5 38.8071 25 50 25 50C11.1929 50 0 38.8071 0 25C0 11.1929 11.1929 0 25 0C25 0 18.5 11.1929 18.5 25Z";

const bowPath =
  "M32.5634 4.97243C34.8622 4.36552 37.0171 3.59038 38.9747 2.88622C45.6264 0.493523 50 -1.07968 50 7.55108C50 16.1818 45.6264 14.6086 38.9747 12.2159C37.0075 11.5083 34.841 10.729 32.5294 10.1207C31.4665 12.9705 28.7202 15 25.5 15C22.1937 15 19.387 12.8605 18.389 9.89044C15.7317 10.523 13.251 11.4153 11.0253 12.2159C4.37355 14.6086 0 16.1818 0 7.55108C0 -1.07968 4.37355 0.493523 11.0253 2.88622C13.2423 3.68369 15.7123 4.57219 18.3579 5.20427C19.3276 2.18508 22.1586 0 25.5 0C28.7552 0 31.5261 2.07386 32.5634 4.97243Z";

const crossPath =
  "M20.3352 39.5258C17.9425 46.1775 16.3692 50.5511 25 50.5511C33.6308 50.5511 32.0576 46.1775 29.6649 39.5258C28.3742 35.9377 26.845 31.6866 26.5505 27.1015C31.1355 27.3961 35.3866 28.9252 38.9747 30.2159C45.6265 32.6086 50 34.1818 50 25.5511C50 16.9203 45.6265 18.4935 38.9747 20.8862C35.3866 22.1769 31.1355 23.7061 26.5505 24.0006C26.845 19.4156 28.3742 15.1645 29.6649 11.5764C32.0576 4.92464 33.6308 0.551086 25 0.551086C16.3692 0.551086 17.9425 4.92464 20.3352 11.5764C21.6258 15.1645 23.155 19.4156 23.4496 24.0006C18.8645 23.7061 14.6134 22.1769 11.0253 20.8862C4.37354 18.4935 0 16.9203 0 25.5511C0 34.1818 4.37354 32.6086 11.0253 30.2159C14.6134 28.9252 18.8645 27.3961 23.4496 27.1015C23.155 31.6866 21.6258 35.9377 20.3352 39.5258Z";

const starPath =
  "M26 0L32.0619 18.6565H51.6785L35.8083 30.1869L41.8702 48.8435L26 37.3131L10.1298 48.8435L16.1917 30.1869L0.321474 18.6565H19.9381L26 0Z";

const paths = [circlePath, moonPath, crossPath, starPath];

export default function App() {
  const [index, setIndex] = useState(0);

  useInterval(() => {
    setIndex((prev) => prev + 1);
  }, 2000);

  return (
    <div style={styles.container}>
      <svg viewBox="0 0 51 51" style={styles.svg}>
        <MorphPath
          fromPath={paths[index % paths.length]}
          toPath={paths[(index + 1) % paths.length]}
          animation={{ duration: 0.5 }}
        />
      </svg>
    </div>
  );
}
